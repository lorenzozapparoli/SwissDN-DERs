# Distributed Energy Resources for Swiss Distribution Grids

This repository contains the codebase used to generate the dataset described in [citation], [citation], which provides detailed Distributed Energy Resource (DER) allocations and load profiles across Swiss medium- and low-voltage distribution grids. The scripts and folder structure included here allow users to replicate the creation of DER profiles and their spatial and temporal integration into Switzerlandâ€™s distribution networks.

Important: This repository does not include the input datasets, intermediate processing results, or output data files. These can be obtained as outlined in the corresponding article. Scripts provided here enable users to process the input data and reproduce the final outputs.

## ğŸ§  Methodology Overview
The generation of the high-resolution DER dataset follows a two-step process:

- Data Retrieval and Processing
Input data for DER technologies (PVs, BESSs, EVs, HPs) and non-controllable loads is collected, preprocessed, and temporally standardized. This includes forecasts for 2030, 2040, and 2050.

- Integration into Swiss Distribution Grids
The processed data is geographically and electrically mapped to detailed distribution grid models of Switzerland, including 879 medium-voltage (MV) and 34,920 low-voltage (LV) grids.


## ğŸ“œ Description of Key Files and Folders
### BESS
- **BESS_allocator.py**: This script allocates BESSs to the MV grids based on the input data.
- **Output/**: This folder contains the output files generated by the BESS allocator.
### EV
- **EV_percentage_calculation.py**: This script calculates the percentage of EVs in the MV grids.
- **EV_tasks.ipynb**: This Jupyter notebook contains tasks related to EV allocation and analysis.
- **EV_voronoi_data.ipynb**: This Jupyter notebook contains Voronoi partitioning data for EV allocation.
- **EV_Voronoi_partitioning_CH_MV.py**: This script performs Voronoi partitioning for EV allocation in Switzerland's MV grids.
- **municipality_boundary.geojson**: This file contains the boundaries of Swiss municipalities.
- **MV_trafos_voronoi_new.geojson**: This file contains the Voronoi partitioning data for MV transformers.
- **MV_trafo_partitioning.geojson**: This file contains the partitioning data for MV transformers.
### HP
- **Final_results_generator.py**: This script generates the final results for heat pump allocation.
- **HP_allocation_LV.py**: This script allocates heat pumps to the LV grids.
- **HP_allocation_MV.py**: This script allocates heat pumps to the MV grids.
- **HP_building_split.py**: This script splits buildings for heat pump allocation.
- **raw_data_processor_parallelized.py**: This script processes raw data for heat pump allocation in parallel.
- **how_to_run.txt**: This file contains instructions on how to run the heat pump allocation scripts.
- **HP_input/**: This folder contains the input data for heat pump allocation.
- **HP_output/**: This folder contains the output data generated by the heat pump allocator.
### LV_basicload
- **LV_basicload_allocation.py**: This script allocates basic load profiles to the LV grids.
- **Result_condenser.py**: This script condenses the results of the LV basic load allocation.
- **LV_basicload_input/**: This folder contains the input data for LV basic load allocation.
- **LV_basicload_output/**: This folder contains the output data generated by the LV basic load allocator.
- **LV/**: This folder contains the LV grid data.
### MV_basicload
- **MV_basicload_generation.ipynb**: This Jupyter notebook generates the MV basic load profiles.
- **MV_profile_generator.py**: This script generates the MV load profiles.
- **MV_basicload_input/**: This folder contains the input data for MV basic load generation.
- **MV_basicload_output/**: This folder contains the output data generated by the MV basic load generator.
### PV
- **Final_results_generator.py**: This script generates the final results for PV allocation.
- **PV_allocation_LV.py**: This script allocates PVs to the LV grids.
- **PV_allocation_MV.py**: This script allocates PVs to the MV grids.
- **PV_split.py**: This script splits PV data for allocation.
- **how_to_run.txt**: This file contains instructions on how to run the PV allocation scripts.
- **data_processing/**: This folder contains scripts and data for processing PV data.
- **PV_input/**: This folder contains the input data for PV allocation.
- **PV_output/**: This folder contains the output data generated by the PV allocator.
### SwissDN_DERs
- **01_PV/**: This folder contains data related to PV allocation.
- **02_BESS/**: This folder contains data related to BESS allocation.
- **03_HP/**: This folder contains data related to heat pump allocation.
- **04_EV/**: This folder contains data related to EV allocation.
- **05_Demand/**: This folder contains data related to demand allocation.
- **06_Grids/**: This folder contains data related to the distribution grids.
- **07_Complementary_data/**: This folder contains complementary data for the project.
- **08_Data_loader.py**: This script loads the data for the project.
### Plotting_data
- **Grid_plotter.py**: This script generates plots for the grid data.
- **Plotter.py**: This script generates various plots for the project.
- nine_zones.geojson: This file contains the boundaries of nine zones in Switzerland.
### Data_checker.py
- This script checks the data for consistency and correctness.
### environment.yml
- This file contains the environment configuration for the project, including required packages and dependencies.

## âš™ï¸ Reproducibility & Execution
Each main module (e.g., PV, BESS, HP, EV, Load) includes Python scripts to:
- Process and format the raw input data
- Allocate resources across the Swiss grid models
- Generate intermediate and final results
Please refer to the how_to_run.txt files (in PV and HP folders) and the .ipynb notebooks for guidance on execution.

## ğŸ“„ License and Citation
This work is released for academic and non-commercial use. If you use this code or dataset, please cite the associated article(s):
[Oneto et al., 2025 â€” DER Allocation in Swiss Grids, DOI]
[Oneto et al., 2025 â€” Swiss Distribution Network Models, DOI]

## ğŸ—‚ï¸ Directory Structure
The directory structure is organized as follows:
```plaintext
ğŸ“ BESS/
 â”œâ”€â”€ BESS_allocator.py
 â””â”€â”€ Output/

ğŸ“ EV/
 â”œâ”€â”€ EV_percentage_calculation.py
 â”œâ”€â”€ EV_tasks.ipynb
 â”œâ”€â”€ EV_voronoi_data.ipynb
 â”œâ”€â”€ EV_Voronoi_partitioning_CH_MV.py
 â”œâ”€â”€ municipality_boundary.geojson
 â”œâ”€â”€ MV_trafos_voronoi_new.geojson
 â””â”€â”€ MV_trafo_partitioning.geojson

ğŸ“ HP/
 â”œâ”€â”€ Final_results_generator.py
 â”œâ”€â”€ HP_allocation_LV.py
 â”œâ”€â”€ HP_allocation_MV.py
 â”œâ”€â”€ HP_building_split.py
 â”œâ”€â”€ raw_data_processor_parallelized.py
 â”œâ”€â”€ how_to_run.txt
 â”œâ”€â”€ HP_input/
 â””â”€â”€ HP_output/

ğŸ“ LV_basicload/
 â”œâ”€â”€ LV_basicload_allocation.py
 â”œâ”€â”€ Result_condenser.py
 â”œâ”€â”€ LV_basicload_input/
 â”œâ”€â”€ LV_basicload_output/
 â””â”€â”€ LV/

ğŸ“ MV_basicload/
 â”œâ”€â”€ MV_basicload_generation.ipynb
 â”œâ”€â”€ MV_profile_generator.py
 â”œâ”€â”€ MV_basicload_input/
 â””â”€â”€ MV_basicload_output/

ğŸ“ PV/
 â”œâ”€â”€ Final_results_generator.py
 â”œâ”€â”€ PV_allocation_LV.py
 â”œâ”€â”€ PV_allocation_MV.py
 â”œâ”€â”€ PV_split.py
 â”œâ”€â”€ how_to_run.txt
 â”œâ”€â”€ data_processing/
 â”œâ”€â”€ PV_input/
 â””â”€â”€ PV_output/

ğŸ“ SwissDN_DERs/
 â”œâ”€â”€ 01_PV/
 â”œâ”€â”€ 02_BESS/
 â”œâ”€â”€ 03_HP/
 â”œâ”€â”€ 04_EV/
 â”œâ”€â”€ 05_Demand/
 â”œâ”€â”€ 06_Grids/
 â”œâ”€â”€ 07_Complementary_data/
 â””â”€â”€ 08_Data_loader.py

ğŸ“ Plotting_data/
 â”œâ”€â”€ Grid_data/
 â”œâ”€â”€ Grid_figures/
 â”œâ”€â”€ Grid_plotter.py
 â”œâ”€â”€ Deployment_histograms/
 â”œâ”€â”€ Switzerland_maps/
 â”œâ”€â”€ Hourly_DERs_profiles/
 â”œâ”€â”€ Monthly_DERs_heatmap/
 â”œâ”€â”€ Profiles_figure/
 â”œâ”€â”€ Paper_figures/
 â”œâ”€â”€ Plotter.py
 â”œâ”€â”€ nine_zones.geojson

ğŸ“„ environment.yml
ğŸ“„ Data_checker.py
ğŸ“„ .gitignore
```
